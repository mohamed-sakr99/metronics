(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[42],{1042:(e,t,o)=>{"use strict";o.r(t),o.d(t,{CoporateCustomerModule:()=>ue});var n=o(2090),r=o(8583),u=o(7716),a=o(1841),i=o(2340);let s=(()=>{class e{constructor(e){this.http=e,this.apiServer=i.N.apiUrl}getCorporateLookups(){return this.http.get(this.apiServer+"Lookup/GetCorporateLookups/")}addCorporateCustomer(e,t){let o=new a.LE;return o=o.append("UserID",t),this.http.post(this.apiServer+"Corporate/AddCorporate",e,{params:o})}getCorporateCustomerList(e,t,o,n,r){let u=new a.LE;return e&&(u=u.append("UserID",e)),t&&(u=u.append("UserRole",t)),o&&(u=u.append("Page",o)),n&&(u=u.append("PageLimit",n)),r&&(u=u.append("SearchText",r)),this.http.get(this.apiServer+"Corporate/CorporateList/",{params:u})}editCorporateCustomer(e){let t=new a.LE;return t=t.append("CorporateID",e),this.http.get(this.apiServer+"Corporate/EditCorporate/",{params:t})}UpdateCurrentCorporateCustomer(e,t,o){let n=new a.LE;return n=n.append("UserID",t),n=n.append("CorporateID",o),this.http.put(this.apiServer+"Corporate/EditCorporate/",e,{params:n})}getCorporateCustomerInfo(e){let t=new a.LE;return t=t.append("CorporateID",e),this.http.get(this.apiServer+"Corporate/CorporateDetails/",{params:t})}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(a.eN))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=o(5727),l=o(8232),m=o(7263);function c(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"th",13),u._uU(2,"comment"),u.qZA(),u.TgZ(3,"th",13),u._uU(4," by "),u.qZA(),u.TgZ(5,"th",13),u._uU(6," on"),u.qZA(),u.qZA())}function d(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",13),u._uU(2),u.qZA(),u.TgZ(3,"td",13),u._uU(4),u.qZA(),u.TgZ(5,"td",13),u._uU(6),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.Oqu(e.Comment),u.xp6(2),u.Oqu(e.CreatedBy),u.xp6(2),u.Oqu(e.CreatedOn)}}let Z=(()=>{class e{constructor(e,t,o){this.corporateApiService=e,this.route=t,this.cdr=o,this.corpotareCustomerInfo={},this.corporateCustomerHistory=[]}ngOnInit(){this.getInfoForCoprpCust()}getInfoForCoprpCust(){this.corporateApiService.getCorporateCustomerInfo(this.route.snapshot.params.id).subscribe(e=>{this.corpotareCustomerInfo=e.Corporate,this.corporateCustomerHistory=e.History,this.cdr.detectChanges(),console.log(this.corpotareCustomerInfo),console.log(e.History)})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(s),u.Y36(p.gz),u.Y36(u.sBO))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-corp-customer-info"]],decls:103,vars:18,consts:[[1,"card","p-2","mb-3"],[1,"container"],[1,"d-flex","justify-content-center","align-items-center"],[1,"text-primary"],[1,"row","justify-content-lg-center"],[1,"col-md-4","col-sm-6","col-12"],[1,"d-flex","justify-content-between"],[1,"d-inline-block","info","m-2","p-2","cust-span"],[1,"card","p-2","mt-4"],[1,"text-center","mt-3"],["scrollHeight","400px",3,"value","scrollable"],["pTemplate","header"],["pTemplate","body"],[2,"min-width","200px"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"h3",3),u._uU(4),u.qZA(),u.qZA(),u._UZ(5,"hr"),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u.TgZ(9,"span",7),u._uU(10," Cutomer name :"),u.qZA(),u.TgZ(11,"span",7),u._uU(12),u.qZA(),u.qZA(),u.qZA(),u.TgZ(13,"div",5),u.TgZ(14,"div",6),u.TgZ(15,"span",7),u._uU(16," CustomerType :"),u.qZA(),u.TgZ(17,"span",7),u._uU(18),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"div",5),u.TgZ(20,"div",6),u.TgZ(21,"span",7),u._uU(22," AccountType :"),u.qZA(),u.TgZ(23,"span",7),u._uU(24),u.qZA(),u.qZA(),u.qZA(),u.TgZ(25,"div",5),u.TgZ(26,"div",6),u.TgZ(27,"span",7),u._uU(28," Comment :"),u.qZA(),u.TgZ(29,"span",7),u._uU(30),u.qZA(),u.qZA(),u.qZA(),u.TgZ(31,"div",5),u.TgZ(32,"div",6),u.TgZ(33,"span",7),u._uU(34," CompanyAddress :"),u.qZA(),u.TgZ(35,"span",7),u._uU(36),u.qZA(),u.qZA(),u.qZA(),u.TgZ(37,"div",5),u.TgZ(38,"div",6),u.TgZ(39,"span",7),u._uU(40," CompanyName :"),u.qZA(),u.TgZ(41,"span",7),u._uU(42),u.qZA(),u.qZA(),u.qZA(),u.TgZ(43,"div",5),u.TgZ(44,"div",6),u.TgZ(45,"span",7),u._uU(46," CompanyType :"),u.qZA(),u.TgZ(47,"span",7),u._uU(48),u.qZA(),u.qZA(),u.qZA(),u.TgZ(49,"div",5),u.TgZ(50,"div",6),u.TgZ(51,"span",7),u._uU(52," CreatedByName :"),u.qZA(),u.TgZ(53,"span",7),u._uU(54),u.qZA(),u.qZA(),u.qZA(),u.TgZ(55,"div",5),u.TgZ(56,"div",6),u.TgZ(57,"span",7),u._uU(58," CreatedOn :"),u.qZA(),u.TgZ(59,"span",7),u._uU(60),u.qZA(),u.qZA(),u.qZA(),u.TgZ(61,"div",5),u.TgZ(62,"div",6),u.TgZ(63,"span",7),u._uU(64," CustomerStatus :"),u.qZA(),u.TgZ(65,"span",7),u._uU(66),u.qZA(),u.qZA(),u.qZA(),u.TgZ(67,"div",5),u.TgZ(68,"div",6),u.TgZ(69,"span",7),u._uU(70," LinesNumber :"),u.qZA(),u.TgZ(71,"span",7),u._uU(72),u.qZA(),u.qZA(),u.qZA(),u.TgZ(73,"div",5),u.TgZ(74,"div",6),u.TgZ(75,"span",7),u._uU(76," Mobile :"),u.qZA(),u.TgZ(77,"span",7),u._uU(78),u.qZA(),u.qZA(),u.qZA(),u.TgZ(79,"div",5),u.TgZ(80,"div",6),u.TgZ(81,"span",7),u._uU(82," ModifiedByName :"),u.qZA(),u.TgZ(83,"span",7),u._uU(84),u.qZA(),u.qZA(),u.qZA(),u.TgZ(85,"div",5),u.TgZ(86,"div",6),u.TgZ(87,"span",7),u._uU(88," ModifiedOn :"),u.qZA(),u.TgZ(89,"span",7),u._uU(90),u.qZA(),u.qZA(),u.qZA(),u.TgZ(91,"div",5),u.TgZ(92,"div",6),u.TgZ(93,"span",7),u._uU(94," RequestType :"),u.qZA(),u.TgZ(95,"span",7),u._uU(96),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(97,"div",8),u.TgZ(98,"h3",9),u._uU(99,"History"),u.qZA(),u.TgZ(100,"p-table",10),u.YNc(101,c,7,0,"ng-template",11),u.YNc(102,d,7,3,"ng-template",12),u.qZA(),u.qZA()),2&e&&(u.xp6(4),u.hij("corporate info : ",t.corpotareCustomerInfo.Name,""),u.xp6(8),u.Oqu(t.corpotareCustomerInfo.Name),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.AccountNumber),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.AccountType),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.Comment),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.CompanyAddress),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.CompanyName),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.CompanyType),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.CreatedByName),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.CreatedOn),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.CustomerStatus),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.LinesNumber),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.Mobile),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.ModifiedByName),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.ModifiedOn),u.xp6(6),u.Oqu(t.corpotareCustomerInfo.RequestType),u.xp6(4),u.Q6J("value",t.corporateCustomerHistory)("scrollable",!0))},directives:[l.iA,m.jx],styles:[""]}),e})();var g=o(3679),y=o(4412);function T(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," this field is required "),u.qZA())}function C(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," this field is required "),u.qZA())}function A(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," this field must be number "),u.qZA())}function q(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add CompanyName "),u.qZA())}function h(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add CompanyAddress "),u.qZA())}function f(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add CompanyType "),u.qZA())}function b(e,t){if(1&e&&(u.TgZ(0,"option",22),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.Q6J("value",e.ID),u.xp6(1),u.hij(" ",null==e?null:e.Name," ")}}function v(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add CompanyType "),u.qZA())}function N(e,t){if(1&e&&(u.TgZ(0,"option",22),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.Q6J("value",e.ID),u.xp6(1),u.hij(" ",null==e?null:e.Name," ")}}function I(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add CompanyType "),u.qZA())}function U(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," this field is required "),u.qZA())}function _(e,t){if(1&e&&(u.TgZ(0,"option",22),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.Q6J("value",e.ID),u.xp6(1),u.hij(" ",null==e?null:e.Name," ")}}function x(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add RequestType "),u.qZA())}function S(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," this field is required "),u.qZA())}let D=(()=>{class e{constructor(e,t,o,n,r){var u,a;this.corporateApiService=e,this.route=t,this.messageService=o,this.router=n,this.cdr=r,this.UserID=null===(u=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===u?void 0:u.ID,this.UserRole=null===(a=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===a?void 0:a.Role,this.page=1,this.PageLimit=25,this.AccountType=[],this.customerStatus=[],this.RequestTypes=[],this.unsubscribe=[],this.initFormGroup(),this.createForm()}initFormGroup(){this.AccountNumber=new g.NI("",g.kI.required),this.name=new g.NI("",g.kI.required),this.mobile=new g.NI("",g.kI.required),this.CompanyName=new g.NI("",g.kI.required),this.CompanyAddress=new g.NI("",g.kI.required),this.CompanyType=new g.NI("",g.kI.required),this.AccountTypeID=new g.NI("",g.kI.required),this.CustomerStatusID=new g.NI("",g.kI.required),this.LinesNumber=new g.NI("",g.kI.required),this.RequestTypeID=new g.NI("",g.kI.required),this.Comment=new g.NI("",g.kI.required)}createForm(){this.editCorporateForm=new g.cw({AccountNumber:this.AccountNumber,name:this.name,mobile:this.mobile,CompanyName:this.CompanyName,CompanyAddress:this.CompanyAddress,CompanyType:this.CompanyType,AccountTypeID:this.AccountTypeID,CustomerStatusID:this.CustomerStatusID,LinesNumber:this.LinesNumber,RequestTypeID:this.RequestTypeID,Comment:this.Comment})}getLookupsForCorporate(){this.corporateApiService.getCorporateLookups().subscribe(e=>{this.AccountType=e.Lookups.AccountType,this.customerStatus=e.Lookups.CustomerStatus,this.RequestTypes=e.Lookups.RequestType,this.cdr.detectChanges(),console.log(this.AccountType)})}ngOnInit(){this.CorporateID=this.route.snapshot.paramMap.get("id"),this.getLookupsForCorporate(),this.corporateApiService.editCorporateCustomer(+this.CorporateID).subscribe(e=>{this.editCorporateForm=new g.cw({AccountNumber:new g.NI(e.Corporate.AccountNumber),name:new g.NI(e.Corporate.Name),mobile:new g.NI(e.Corporate.Mobile),CompanyName:new g.NI(e.Corporate.CompanyName),CompanyAddress:new g.NI(e.Corporate.CompanyAddress),CompanyType:new g.NI(e.Corporate.CompanyType),AccountTypeID:new g.NI(e.Corporate.AccountTypeID),CustomerStatusID:new g.NI(e.Corporate.CustomerStatusID),LinesNumber:new g.NI(e.Corporate.LinesNumber),RequestTypeID:new g.NI(e.Corporate.RequestTypeID),Comment:new g.NI(e.Corporate.Comment)}),this.cdr.detectChanges()})}updateCurrentCutomerForm(){var e;null===(e=document.getElementById("button-1"))||void 0===e||e.setAttribute("disabled","true"),this.corporateApiService.UpdateCurrentCorporateCustomer(this.editCorporateForm.value,this.UserID,this.CorporateID).subscribe(e=>{var t;"successfully"===(null==e?void 0:e.status)?(this.editedCutomer(),setTimeout(()=>{this.router.navigate(["/corp/corp-list"])},2500)):this.ErrorInEditedCustomer(),null===(t=document.getElementById("button"))||void 0===t||t.removeAttribute("disabled")})}editedCutomer(){this.messageService.add({severity:"success",summary:"you modified Customer Successfly",detail:"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0639\u0645\u064a\u0644 \u0628\u0646\u062c\u0627\u062d"})}ErrorInEditedCustomer(){this.messageService.add({severity:"error",summary:"Customer not modifided Yet",detail:"\u0644\u0645 \u064a\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0639\u0645\u064a\u0644 \u0628\u0639\u062f"})}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(s),u.Y36(p.gz),u.Y36(m.ez),u.Y36(p.F0),u.Y36(u.sBO))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-corp-customer-edit"]],features:[u._Bn([m.ez])],decls:79,vars:16,consts:[[1,"card-body"],["action","",3,"formGroup","ngSubmit"],[1,"row","justify-content-lg-center"],[1,"col-md-4","col-sm-6","col-12"],[1,"mt-4"],[1,"cust-label"],["type","number","formControlName","AccountNumber",1,"form-control"],[4,"ngIf"],["type","text","formControlName","name",1,"form-control"],["type","number","formControlName","mobile","name","mobile",1,"form-control"],["type","text","formControlName","CompanyName","name","CompanyName",1,"form-control"],["type","text","formControlName","CompanyAddress","name","CompanyAddress",1,"form-control"],["type","text","formControlName","CompanyType","name","CompanyType",1,"form-control"],["type","text","autofocus","","name","AccountTypeID","formControlName","AccountTypeID",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","text","autofocus","","name","CustomerStatusID","formControlName","CustomerStatusID",1,"form-select"],["type","number","formControlName","LinesNumber",1,"form-control"],["type","text","autofocus","","name","RequestTypeID","formControlName","RequestTypeID",1,"form-select"],["type","text","formControlName","Comment","name","Comment",1,"form-control"],[1,"m-auto","text-center"],["type","submit","id","button-1",1,"mt-5","text-center","btn","btn-primary",3,"disabled"],["position","bottom-center"],[3,"value"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h2"),u._uU(2,"update Corporate cutomer"),u.qZA(),u._UZ(3,"hr"),u.TgZ(4,"form",1),u.NdJ("ngSubmit",function(){return t.updateCurrentCutomerForm()}),u.TgZ(5,"div",2),u.TgZ(6,"div",3),u.TgZ(7,"div",4),u.TgZ(8,"label",5),u._uU(9,"Account Number"),u.qZA(),u._UZ(10,"input",6),u.YNc(11,T,2,0,"span",7),u.qZA(),u.qZA(),u.TgZ(12,"div",3),u.TgZ(13,"div",4),u.TgZ(14,"label",5),u._uU(15,"cutomer name"),u.qZA(),u._UZ(16,"input",8),u.YNc(17,C,2,0,"span",7),u.qZA(),u.qZA(),u.TgZ(18,"div",3),u.TgZ(19,"div",4),u.TgZ(20,"label",5),u._uU(21,"mobile"),u.qZA(),u._UZ(22,"input",9),u.YNc(23,A,2,0,"span",7),u.qZA(),u.qZA(),u.TgZ(24,"div",3),u.TgZ(25,"div",4),u.TgZ(26,"label",5),u._uU(27,"CompanyName"),u.qZA(),u._UZ(28,"input",10),u.YNc(29,q,2,0,"span",7),u.qZA(),u.qZA(),u.TgZ(30,"div",3),u.TgZ(31,"div",4),u.TgZ(32,"label",5),u._uU(33,"CompanyAddress"),u.qZA(),u._UZ(34,"input",11),u.YNc(35,h,2,0,"span",7),u.qZA(),u.qZA(),u.TgZ(36,"div",3),u.TgZ(37,"div",4),u.TgZ(38,"label",5),u._uU(39,"CompanyType"),u.qZA(),u._UZ(40,"input",12),u.YNc(41,f,2,0,"span",7),u.qZA(),u.qZA(),u.TgZ(42,"div",3),u.TgZ(43,"div",4),u.TgZ(44,"label",5),u._uU(45,"Account Type"),u.qZA(),u.TgZ(46,"select",13),u.YNc(47,b,2,2,"option",14),u.qZA(),u.YNc(48,v,2,0,"span",7),u.qZA(),u.qZA(),u.TgZ(49,"div",3),u.TgZ(50,"div",4),u.TgZ(51,"label",5),u._uU(52,"Status"),u.qZA(),u.TgZ(53,"select",15),u.YNc(54,N,2,2,"option",14),u.qZA(),u.YNc(55,I,2,0,"span",7),u.qZA(),u.qZA(),u.TgZ(56,"div",3),u.TgZ(57,"div",4),u.TgZ(58,"label",5),u._uU(59,"Lines Number"),u.qZA(),u._UZ(60,"input",16),u.YNc(61,U,2,0,"span",7),u.qZA(),u.qZA(),u.TgZ(62,"div",3),u.TgZ(63,"div",4),u.TgZ(64,"label",5),u._uU(65,"Request Type"),u.qZA(),u.TgZ(66,"select",17),u.YNc(67,_,2,2,"option",14),u.qZA(),u.YNc(68,x,2,0,"span",7),u.qZA(),u.qZA(),u.TgZ(69,"div",3),u.TgZ(70,"div",4),u.TgZ(71,"label",5),u._uU(72,"Comment"),u.qZA(),u._UZ(73,"textarea",18),u.YNc(74,S,2,0,"span",7),u.qZA(),u.qZA(),u.qZA(),u.TgZ(75,"div",19),u.TgZ(76,"button",20),u._uU(77," update corporate Cutomer "),u.qZA(),u.qZA(),u.qZA(),u._UZ(78,"p-toast",21),u.qZA()),2&e&&(u.xp6(4),u.Q6J("formGroup",t.editCorporateForm),u.xp6(7),u.Q6J("ngIf",(null==t.AccountNumber?null:t.AccountNumber.invalid)&&(null==t.AccountNumber?null:t.AccountNumber.touched)&&!(null!=t.AccountNumber&&t.AccountNumber.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.name?null:t.name.invalid)&&(null==t.name?null:t.name.touched)&&!(null!=t.name&&t.name.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.mobile?null:t.mobile.invalid)&&(null==t.mobile?null:t.mobile.touched)&&!(null!=t.mobile&&t.mobile.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.CompanyName?null:t.CompanyName.invalid)&&(null==t.CompanyName?null:t.CompanyName.touched)&&!(null!=t.CompanyName&&t.CompanyName.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.CompanyAddress?null:t.CompanyAddress.invalid)&&(null==t.CompanyAddress?null:t.CompanyAddress.touched)&&!(null!=t.CompanyAddress&&t.CompanyAddress.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),u.xp6(6),u.Q6J("ngForOf",t.AccountType),u.xp6(1),u.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),u.xp6(6),u.Q6J("ngForOf",t.customerStatus),u.xp6(1),u.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.LinesNumber?null:t.LinesNumber.invalid)&&(null==t.LinesNumber?null:t.LinesNumber.touched)&&!(null!=t.LinesNumber&&t.LinesNumber.dirty)),u.xp6(6),u.Q6J("ngForOf",t.RequestTypes),u.xp6(1),u.Q6J("ngIf",(null==t.RequestTypes?null:t.RequestTypes.invalid)&&(null==t.RequestTypes?null:t.RequestTypes.touched)&&!(null!=t.RequestTypes&&t.RequestTypes.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.Comment?null:t.Comment.invalid)&&(null==t.Comment?null:t.Comment.touched)&&!(null!=t.Comment&&t.Comment.dirty)),u.xp6(2),u.Q6J("disabled",null==t.editCorporateForm?null:t.editCorporateForm.invalid))},directives:[g._Y,g.JL,g.sg,g.wV,g.Fj,g.JJ,g.u,r.O5,g.EJ,r.sg,y.FN,g.YN,g.Kr],styles:[""]}),e})();var w=o(674);function J(e,t){if(1&e){const e=u.EpF();u.ynx(0),u.TgZ(1,"button",12),u.NdJ("click",function(){return u.CHM(e),u.oxw().onClear()}),u._UZ(2,"i",13),u.qZA(),u.BQk()}}function L(e,t){1&e&&(u.TgZ(0,"th"),u._uU(1,"User Name"),u.qZA())}function O(e,t){1&e&&(u.TgZ(0,"th"),u._uU(1,"Edit"),u.qZA())}function F(e,t){if(1&e&&(u.TgZ(0,"tr"),u.YNc(1,L,2,0,"th",7),u.TgZ(2,"th"),u._uU(3,"Date"),u.qZA(),u.TgZ(4,"th"),u._uU(5,"Account No."),u.qZA(),u.TgZ(6,"th"),u._uU(7," Name"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"Mobile"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"company type"),u.qZA(),u.TgZ(12,"th"),u._uU(13,"account type"),u.qZA(),u.TgZ(14,"th",14),u._uU(15," Status "),u._UZ(16,"p-sortIcon",15),u.qZA(),u.YNc(17,O,2,0,"th",7),u.TgZ(18,"th"),u._uU(19,"info"),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf","Admin"===e.UserRole),u.xp6(16),u.Q6J("ngIf","Admin"===e.UserRole)}}const Y=function(e){return["../edit",e]},k=function(e){return["../info",e]};function Q(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._uU(16),u.qZA(),u.TgZ(17,"td"),u.TgZ(18,"button",16),u._uU(19,"Edit "),u.qZA(),u.qZA(),u.TgZ(20,"td"),u.TgZ(21,"button",17),u._uU(22,"info "),u.qZA(),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.Oqu(null==e?null:e.CreatedByName),u.xp6(2),u.Oqu(null==e?null:e.CreatedOn),u.xp6(2),u.Oqu(null==e?null:e.AccountNumber),u.xp6(2),u.Oqu(null==e?null:e.Name),u.xp6(2),u.Oqu(null==e?null:e.Mobile),u.xp6(2),u.Oqu(null==e?null:e.CompanyType),u.xp6(2),u.Oqu(null==e?null:e.AccountType),u.xp6(2),u.Oqu(null==e?null:e.CustomerStatus),u.xp6(2),u.Q6J("routerLink",u.VKq(10,Y,e.ID)),u.xp6(3),u.Q6J("routerLink",u.VKq(12,k,e.ID))}}function R(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"ngb-pagination",19),u.NdJ("pageChange",function(t){return u.CHM(e),u.oxw().Page=t})("pageChange",function(t){return u.CHM(e),u.oxw().onPageChange(t)}),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(1),u.Q6J("collectionSize",e.totalCount)("pageSize",e.PageLimit)("page",e.Page)("maxSize",7)}}const E=function(){return["name","country","Status"]};let M=(()=>{class e{constructor(e,t){var o,n;this.corporateApiService=e,this.cdr=t,this.corporateCustomer=[],this.UserID=null===(o=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===o?void 0:o.ID,this.UserRole=null===(n=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===n?void 0:n.Role,this.Page=1,this.PageLimit=25,this.unsubscribe=[]}ngOnInit(){this.getCustomerForCorporate()}getCustomerForCorporate(){this.corporateApiService.getCorporateCustomerList(this.UserID,this.UserRole,this.Page,this.PageLimit,this.SearchText).subscribe(e=>{this.corporateCustomer=e.Corporates,this.totalCount=e.TotalCount,this.cdr.detectChanges()})}onPageChange(e){this.getCustomerForCorporate()}onSearch(){this.getCustomerForCorporate()}onClear(){this.SearchText="",this.getCustomerForCorporate()}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(s),u.Y36(u.sBO))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-corp-customer-list"]],decls:14,vars:10,consts:[[1,"card"],[1,"mt-3"],[1,"m-2","w-35"],[1,"input-group","mb-3"],["type","text","name","search","id","button","placeholder","search by Request Number or Mobile","aria-label","Recipient's username","aria-describedby","button-addon2",1,"form-control","search",3,"ngModel","keyup.enter","ngModelChange"],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-search"],[4,"ngIf"],["scrollHeight","500px",1,"table","table-striped","table-hover",3,"value","scrollable","rowHover","rows","filterDelay","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],["pSortableColumn","customerStatus"],["field","CustomerStatus"],[1,"btn","btn-info",3,"routerLink"],[1,"btn","btn-primary",3,"routerLink"],[1,"d-flex","justify-content-center","mt-5"],[3,"collectionSize","pageSize","page","maxSize","pageChange"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h2",1),u._uU(2,"corporate customer list"),u.qZA(),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"input",4),u.NdJ("keyup.enter",function(){return t.onSearch()})("ngModelChange",function(e){return t.SearchText=e}),u.qZA(),u.TgZ(6,"button",5),u.NdJ("click",function(){return t.onSearch()}),u._UZ(7,"i",6),u.qZA(),u.YNc(8,J,3,0,"ng-container",7),u.qZA(),u.TgZ(9,"p-table",8),u._uU(10,"> "),u.YNc(11,F,20,2,"ng-template",9),u.YNc(12,Q,23,14,"ng-template",10),u.qZA(),u.YNc(13,R,2,4,"div",11),u.qZA(),u.qZA()),2&e&&(u.xp6(5),u.Q6J("ngModel",t.SearchText),u.xp6(3),u.Q6J("ngIf",t.SearchText),u.xp6(1),u.Q6J("value",t.corporateCustomer)("scrollable",!0)("rowHover",!0)("rows",10)("filterDelay",0)("globalFilterFields",u.DdM(9,E)),u.xp6(4),u.Q6J("ngIf",t.corporateCustomer.length>0))},directives:[g.Fj,g.JJ,g.On,r.O5,l.iA,m.jx,l.lQ,l.fz,p.rH,w.N9],styles:[""]}),e})();function j(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," this field is required "),u.qZA())}function B(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," this field is required "),u.qZA())}function z(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," this field must be number "),u.qZA())}function H(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add CompanyName "),u.qZA())}function P(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add CompanyAddress "),u.qZA())}function G(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add CompanyType "),u.qZA())}function $(e,t){if(1&e&&(u.TgZ(0,"option",23),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.Q6J("value",e.ID),u.xp6(1),u.hij(" ",null==e?null:e.Name," ")}}function K(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add CompanyType "),u.qZA())}function V(e,t){if(1&e&&(u.TgZ(0,"option",23),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.Q6J("value",e.ID),u.xp6(1),u.hij(" ",null==e?null:e.Name," ")}}function X(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add CompanyType "),u.qZA())}function W(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," this field is required "),u.qZA())}function ee(e,t){if(1&e&&(u.TgZ(0,"option",23),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.Q6J("value",e.ID),u.xp6(1),u.hij(" ",null==e?null:e.Name," ")}}function te(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," you have to add RequestType "),u.qZA())}function oe(e,t){1&e&&(u.TgZ(0,"span"),u._uU(1," this field is required "),u.qZA())}const ne=[{path:"add-corp",component:(()=>{class e{constructor(e,t,o){var n,r;this.corporateApiService=e,this.cdr=t,this.messageService=o,this.UserID=null===(n=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===n?void 0:n.ID,this.UserRole=null===(r=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===r?void 0:r.Role,this.AccountType=[],this.customerStatus=[],this.RequestTypes=[],this.tomorrow=new Date,this.initFormControl(),this.createForm()}initFormControl(){this.AccountNumber=new g.NI("",g.kI.required),this.name=new g.NI("",g.kI.required),this.mobile=new g.NI("",g.kI.required),this.CompanyName=new g.NI("",g.kI.required),this.CompanyAddress=new g.NI("",g.kI.required),this.CompanyType=new g.NI("",g.kI.required),this.AccountTypeID=new g.NI("",g.kI.required),this.CustomerStatusID=new g.NI("",g.kI.required),this.LinesNumber=new g.NI("",g.kI.required),this.RequestTypeID=new g.NI("",g.kI.required),this.Comment=new g.NI("",g.kI.required)}createForm(){this.corporateForm=new g.cw({AccountNumber:this.AccountNumber,name:this.name,mobile:this.mobile,CompanyName:this.CompanyName,CompanyAddress:this.CompanyAddress,CompanyType:this.CompanyType,AccountTypeID:this.AccountTypeID,CustomerStatusID:this.CustomerStatusID,LinesNumber:this.LinesNumber,RequestTypeID:this.RequestTypeID,Comment:this.Comment})}onSubmit(){var e,t;null===(e=document.getElementById("button"))||void 0===e||e.setAttribute("disabled","true"),this.corporateApiService.addCorporateCustomer(this.corporateForm.value,this.UserID).subscribe(e=>{"successfully"===e.status?(this.corporateForm.reset(),this.addCustomerSuucessFuly()):this.ErrorInAddeddCustomer()}),null===(t=document.getElementById("button"))||void 0===t||t.removeAttribute("disabled")}ngOnInit(){this.getLookupsForCorporate()}addCustomerSuucessFuly(){this.messageService.add({severity:"success",summary:"you added Customer Successfly",detail:"\u062a\u0645 \u0627\u0636\u0627\u0641\u0629 \u0639\u0645\u064a\u0644 \u0628\u0646\u062c\u0627\u062d"})}ErrorInAddeddCustomer(){this.messageService.add({severity:"error",summary:"Customer not Added Yet",detail:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0636\u0627\u0641\u0629 \u0639\u0645\u064a\u0644 \u0628\u0639\u062f"})}getLookupsForCorporate(){this.corporateApiService.getCorporateLookups().subscribe(e=>{this.AccountType=e.Lookups.AccountType,this.customerStatus=e.Lookups.CustomerStatus,this.RequestTypes=e.Lookups.RequestType,this.cdr.detectChanges(),console.log(this.AccountType)})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(s),u.Y36(u.sBO),u.Y36(m.ez))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-add-corp-customer"]],features:[u._Bn([m.ez])],decls:78,vars:16,consts:[[1,"card-body"],[1,"choose-cust"],["action","",3,"formGroup","ngSubmit"],[1,"row","justify-content-lg-center"],[1,"col-md-4","col-sm-6","col-12"],[1,"mt-4"],[1,"cust-label"],["type","number","formControlName","AccountNumber","autocomplete","off",1,"form-control"],[4,"ngIf"],["type","text","formControlName","name","autocomplete","off",1,"form-control"],["type","number","formControlName","mobile","name","mobile","autocomplete","off",1,"form-control"],["type","text","formControlName","CompanyName","name","CompanyName","autocomplete","off",1,"form-control"],["type","text","formControlName","CompanyAddress","name","CompanyAddress","autocomplete","off",1,"form-control"],["type","text","formControlName","CompanyType","name","CompanyType","autocomplete","off",1,"form-control"],["type","text","autofocus","","name","AccountTypeID","formControlName","AccountTypeID",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","text","autofocus","","name","CustomerStatusID","formControlName","CustomerStatusID",1,"form-select"],["type","number","formControlName","LinesNumber","autocomplete","off",1,"form-control"],["type","text","autofocus","","name","RequestTypeID","formControlName","RequestTypeID",1,"form-select"],["type","text","formControlName","Comment","autocomplete","off","name","Comment",1,"form-control"],[1,"m-auto","text-center"],["id","button","type","submit","id","button",1,"d-inline-block","mt-4","text-center","btn","btn-primary",3,"disabled"],["position","bottom-center"],[3,"value"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"span",1),u._uU(2,"Add Corporate cutomer"),u.qZA(),u.TgZ(3,"form",2),u.NdJ("ngSubmit",function(){return t.onSubmit()}),u.TgZ(4,"div",3),u.TgZ(5,"div",4),u.TgZ(6,"div",5),u.TgZ(7,"label",6),u._uU(8,"Account Number"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,j,2,0,"span",8),u.qZA(),u.qZA(),u.TgZ(11,"div",4),u.TgZ(12,"div",5),u.TgZ(13,"label",6),u._uU(14,"Cutomer Name"),u.qZA(),u._UZ(15,"input",9),u.YNc(16,B,2,0,"span",8),u.qZA(),u.qZA(),u.TgZ(17,"div",4),u.TgZ(18,"div",5),u.TgZ(19,"label",6),u._uU(20,"mobile"),u.qZA(),u._UZ(21,"input",10),u.YNc(22,z,2,0,"span",8),u.qZA(),u.qZA(),u.TgZ(23,"div",4),u.TgZ(24,"div",5),u.TgZ(25,"label",6),u._uU(26,"CompanyName"),u.qZA(),u._UZ(27,"input",11),u.YNc(28,H,2,0,"span",8),u.qZA(),u.qZA(),u.TgZ(29,"div",4),u.TgZ(30,"div",5),u.TgZ(31,"label",6),u._uU(32,"CompanyAddress"),u.qZA(),u._UZ(33,"input",12),u.YNc(34,P,2,0,"span",8),u.qZA(),u.qZA(),u.TgZ(35,"div",4),u.TgZ(36,"div",5),u.TgZ(37,"label",6),u._uU(38,"CompanyType"),u.qZA(),u._UZ(39,"input",13),u.YNc(40,G,2,0,"span",8),u.qZA(),u.qZA(),u.TgZ(41,"div",4),u.TgZ(42,"div",5),u.TgZ(43,"label",6),u._uU(44,"Account Type"),u.qZA(),u.TgZ(45,"select",14),u.YNc(46,$,2,2,"option",15),u.qZA(),u.YNc(47,K,2,0,"span",8),u.qZA(),u.qZA(),u.TgZ(48,"div",4),u.TgZ(49,"div",5),u.TgZ(50,"label",6),u._uU(51,"Status"),u.qZA(),u.TgZ(52,"select",16),u.YNc(53,V,2,2,"option",15),u.qZA(),u.YNc(54,X,2,0,"span",8),u.qZA(),u.qZA(),u.TgZ(55,"div",4),u.TgZ(56,"div",5),u.TgZ(57,"label",6),u._uU(58,"Lines Number"),u.qZA(),u._UZ(59,"input",17),u.YNc(60,W,2,0,"span",8),u.qZA(),u.qZA(),u.TgZ(61,"div",4),u.TgZ(62,"div",5),u.TgZ(63,"label",6),u._uU(64,"Request Type"),u.qZA(),u.TgZ(65,"select",18),u.YNc(66,ee,2,2,"option",15),u.qZA(),u.YNc(67,te,2,0,"span",8),u.qZA(),u.qZA(),u.TgZ(68,"div",4),u.TgZ(69,"div",5),u.TgZ(70,"label",6),u._uU(71,"Comment"),u.qZA(),u._UZ(72,"textarea",19),u.YNc(73,oe,2,0,"span",8),u.qZA(),u.qZA(),u.qZA(),u.TgZ(74,"div",20),u.TgZ(75,"button",21),u._uU(76," Add corporate Cutomer "),u.qZA(),u.qZA(),u.qZA(),u._UZ(77,"p-toast",22),u.qZA()),2&e&&(u.xp6(3),u.Q6J("formGroup",t.corporateForm),u.xp6(7),u.Q6J("ngIf",(null==t.AccountNumber?null:t.AccountNumber.invalid)&&(null==t.AccountNumber?null:t.AccountNumber.touched)&&!(null!=t.AccountNumber&&t.AccountNumber.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.name?null:t.name.invalid)&&(null==t.name?null:t.name.touched)&&!(null!=t.name&&t.name.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.mobile?null:t.mobile.invalid)&&(null==t.mobile?null:t.mobile.touched)&&!(null!=t.mobile&&t.mobile.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.CompanyName?null:t.CompanyName.invalid)&&(null==t.CompanyName?null:t.CompanyName.touched)&&!(null!=t.CompanyName&&t.CompanyName.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.CompanyAddress?null:t.CompanyAddress.invalid)&&(null==t.CompanyAddress?null:t.CompanyAddress.touched)&&!(null!=t.CompanyAddress&&t.CompanyAddress.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),u.xp6(6),u.Q6J("ngForOf",t.AccountType),u.xp6(1),u.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),u.xp6(6),u.Q6J("ngForOf",t.customerStatus),u.xp6(1),u.Q6J("ngIf",(null==t.CompanyType?null:t.CompanyType.invalid)&&(null==t.CompanyType?null:t.CompanyType.touched)&&!(null!=t.CompanyType&&t.CompanyType.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.LinesNumber?null:t.LinesNumber.invalid)&&(null==t.LinesNumber?null:t.LinesNumber.touched)&&!(null!=t.LinesNumber&&t.LinesNumber.dirty)),u.xp6(6),u.Q6J("ngForOf",t.RequestTypes),u.xp6(1),u.Q6J("ngIf",(null==t.RequestTypeID?null:t.RequestTypeID.invalid)&&(null==t.RequestTypeID?null:t.RequestTypeID.touched)&&!(null!=t.RequestTypeID&&t.RequestTypeID.dirty)),u.xp6(6),u.Q6J("ngIf",(null==t.Comment?null:t.Comment.invalid)&&(null==t.Comment?null:t.Comment.touched)&&!(null!=t.Comment&&t.Comment.dirty)),u.xp6(2),u.Q6J("disabled",null==t.corporateForm?null:t.corporateForm.invalid))},directives:[g._Y,g.JL,g.sg,g.wV,g.Fj,g.JJ,g.u,r.O5,g.EJ,r.sg,y.FN,g.YN,g.Kr],styles:[""]}),e})()},{path:"corp-list",component:M},{path:"edit/:id",component:D},{path:"info/:id",component:Z},{path:"",redirectTo:"add-corp",pathMatch:"full"},{path:"**",redirectTo:"add-corp",pathMatch:"full"}];let re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[p.Bz.forChild(ne)],p.Bz]}),e})(),ue=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[r.ez,re,n.m]]}),e})()}}]);